<!DOCTYPE html>
<html>
<head>
  <title> Card game</title>

  <style>
    body 
    {
      background: black;
      color: white;
      font-family: Arial;
      text-align: center;
      background-image: url(back3.webp);
      background-position: center 50%;
      background-repeat: no-repeat;
    }

    .board 
    {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-top: 30px;
    }

    .card
    {
      perspective: 600px; 
    }

    .card img
    {
      width: 230px;
      height: 300px;
      border: 2px solid red;
      border-radius: 10px;
      cursor: pointer;
      transition: transform 0.6s;
    }

    .card.rotated img 
    {
      transform: rotateY(180deg);
    }

    .message 
    {
      font-size: 80px;        
      font-weight: bold;
      color: white;
      margin-top: 30px;
      text-align: center;
    }

    .notice 
    {
      color: rgb(237, 208, 208);
    }

    .scores
    {
      color: black;
      font-size: 25px;
      margin-top: 20px;
    }

    .reset-btn
    {
      padding: 10px 20px;
      font-size: 18px;
      cursor: pointer;
      margin-left: 20px;
      background-color: darkred;
      border: none;
    }
  </style>
</head>

<body>

<h2 class="notice">Pick a Card</h2>

<div class="board">
  <div class="card" onclick="flip(0)"><img class="card-img" src="back1.webp"></div>
  <div class="card" onclick="flip(1)"><img class="card-img" src="back1.webp"></div>
  <div class="card" onclick="flip(2)"><img class="card-img" src="back1.webp"></div>
  <div class="card" onclick="flip(3)"><img class="card-img" src="back1.webp"></div>
  <div class="card" onclick="flip(4)"><img class="card-img" src="back1.webp"></div>
</div>

<p class="scores">
  Score: <span class="score-number">0</span>
  <button class="reset-btn" onclick="resetGame()">Reset</button>
</p>

<div class="message"></div>

<script>
  let images = ["mike.jpg", "will.jpg", "steve.jpg", "monster.png", "henry.png"];
  let types  = ["good", "good", "good", "bad", "bad"];

  let score = 0;
  let gameOver = false;

  function shuffle(array1,array2)
  {
    for(let i=array1.length-1;i>0;i--) {
      let j = Math.floor(Math.random()*(i+1));
      // Swap images
      let tempImg = array1[i];
      array1[i] = array1[j];
      array1[j] = tempImg;
      // Swap types
      let tempType = array2[i];
      array2[i] = array2[j];
      array2[j] = tempType;
    }
  }

  shuffle(images, types);

  function flip(index)
  {
    if(gameOver) return;

    let card = document.getElementsByClassName("card")[index];
    let img = document.querySelectorAll(".card-img")[index];

    
    card.classList.add("rotated");

   
    setTimeout(function() {
      img.src = images[index];
    }, 300);

    // Check if it's a bad card
    if(types[index] === "bad")
    {
      document.querySelector(".message").innerText = "GAME OVER ðŸ’€";
      gameOver = true;
    } 
    else
    {
      score++;
      document.querySelector(".score-number").innerText = score;

      if(score === 3) {
        document.querySelector(".message").innerText = "YOU WIN ðŸŽ‰";
        gameOver = true;
      }
    }
  }

  function resetGame() {
    score = 0;
    gameOver = false;
    shuffle(images, types);
    document.querySelector(".score-number").innerText = score;
    document.querySelector(".message").innerText = "";

    let imgs = document.querySelectorAll(".card-img");
    let cards = document.getElementsByClassName("card");
    for(let i = 0; i < imgs.length; i++) {
      imgs[i].src = "back1.webp";
      cards[i].classList.remove("rotated");
    }
  }
</script>

</body>
</html>

